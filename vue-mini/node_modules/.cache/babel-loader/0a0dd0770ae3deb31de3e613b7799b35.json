{"remainingRequest":"D:\\上课材料1911\\三阶段\\作业\\vue-mini\\node_modules\\babel-loader\\lib\\index.js!D:\\上课材料1911\\三阶段\\作业\\vue-mini\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\上课材料1911\\三阶段\\作业\\vue-mini\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\上课材料1911\\三阶段\\作业\\vue-mini\\src\\pages\\Reg.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\上课材料1911\\三阶段\\作业\\vue-mini\\src\\pages\\Reg.vue","mtime":1578727559969},{"path":"D:\\上课材料1911\\三阶段\\作业\\vue-mini\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577503378000},{"path":"D:\\上课材料1911\\三阶段\\作业\\vue-mini\\node_modules\\babel-loader\\lib\\index.js","mtime":1577503492000},{"path":"D:\\上课材料1911\\三阶段\\作业\\vue-mini\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577503378000},{"path":"D:\\上课材料1911\\三阶段\\作业\\vue-mini\\node_modules\\vue-loader\\lib\\index.js","mtime":1577503464000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport DetailHeader from \"@/components/DetailHeader.vue\";\nimport InputCell from \"@/components/input-cell.vue\";\nimport LoginBtn from \"@/components/login-btn.vue\";\nimport MessBox from \"@/components/mess-box.vue\";\nexport default {\n  data: function data() {\n    return {\n      username: '',\n      password: '',\n      mess: '',\n      iptCode: '',\n      mobile: '',\n      onoff: 0\n    };\n  },\n  components: {\n    DetailHeader: DetailHeader,\n    InputCell: InputCell,\n    LoginBtn: LoginBtn,\n    MessBox: MessBox\n  },\n  mounted: function mounted() {},\n  updated: function updated() {},\n  methods: {\n    mobileLog: function mobileLog() {\n      this.$root.bLogin = true;\n    },\n    normalLog: function normalLog() {\n      this.$root.bLogin = false;\n    },\n    getCode: function getCode() {\n      var _this = this;\n\n      axios({\n        url: '/api/send-code',\n        method: 'get',\n        params: this.mobile\n      }).then(function (res) {\n        _this.testCode = res.data.code;\n        _this.username = _this.mobile;\n      });\n    },\n    toNone: function toNone() {\n      var _this2 = this;\n\n      document.onclick = function () {\n        _this2.onoff = 0;\n      };\n    },\n    reg: function reg() {\n      var _this3 = this;\n\n      // 将数据添加到请求头里\n      var formData = new FormData();\n      formData.append('username', this.username);\n      formData.append('password', this.password);\n      formData.append('mobile', this.mobile);\n      formData.append('email', this.email);\n      console.log(formData); // let file=document.getElementById('file');\n      // formData.append('icon',file.files[0]);\n\n      this.$axios({\n        url: '/api/reg',\n        method: 'post',\n        data: formData\n      }).then(function (res) {\n        console.log(res);\n\n        if (res.data.err == 0 || _this3.testCode == _this3.iptCode) {\n          console.log(res.data);\n\n          _this3.$router.push('/login');\n        } else {\n          _this3.mess = res.data.msg; // let messBox = document.querySelector(\".messBox\")\n          // messBox.style.display=\"block\"\n\n          _this3.onoff = 1;\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["Reg.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,OAAA,YAAA,MAAA,+BAAA;AACA,OAAA,SAAA,MAAA,6BAAA;AACA,OAAA,QAAA,MAAA,4BAAA;AACA,OAAA,OAAA,MAAA,2BAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AAAA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,IAAA,EAAA,EAHA;AAIA,MAAA,OAAA,EAAA,EAJA;AAKA,MAAA,MAAA,EAAA,EALA;AAMA,MAAA,KAAA,EAAA;AANA,KAAA;AAOA,GARA;AASA,EAAA,UAAA,EAAA;AACA,IAAA,YAAA,EAAA,YADA;AACA,IAAA,SAAA,EAAA,SADA;AACA,IAAA,QAAA,EAAA,QADA;AACA,IAAA,OAAA,EAAA;AADA,GATA;AAYA,EAAA,OAZA,qBAYA,CAAA,CAZA;AAaA,EAAA,OAbA,qBAaA,CAAA,CAbA;AAcA,EAAA,OAAA,EAAA;AAEA,IAAA,SAFA,uBAEA;AACA,WAAA,KAAA,CAAA,MAAA,GAAA,IAAA;AACA,KAJA;AAKA,IAAA,SALA,uBAKA;AACA,WAAA,KAAA,CAAA,MAAA,GAAA,KAAA;AACA,KAPA;AAQA,IAAA,OARA,qBAQA;AAAA;;AACA,MAAA,KAAA,CAAA;AACA,QAAA,GAAA,EAAA,gBADA;AAEA,QAAA,MAAA,EAAA,KAFA;AAGA,QAAA,MAAA,EAAA,KAAA;AAHA,OAAA,CAAA,CAIA,IAJA,CAKA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,KAAA,CAAA,MAAA;AACA,OARA;AAUA,KAnBA;AAoBA,IAAA,MApBA,oBAoBA;AAAA;;AACA,MAAA,QAAA,CAAA,OAAA,GAAA,YAAA;AACA,QAAA,MAAA,CAAA,KAAA,GAAA,CAAA;AACA,OAFA;AAGA,KAxBA;AA0BA,IAAA,GA1BA,iBA0BA;AAAA;;AACA;AACA,UAAA,QAAA,GAAA,IAAA,QAAA,EAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,UAAA,EAAA,KAAA,QAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,UAAA,EAAA,KAAA,QAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,QAAA,EAAA,KAAA,MAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,OAAA,EAAA,KAAA,KAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,QAAA,EAPA,CAQA;AACA;;AAEA,WAAA,MAAA,CAAA;AACA,QAAA,GAAA,EAAA,UADA;AAEA,QAAA,MAAA,EAAA,MAFA;AAGA,QAAA,IAAA,EAAA;AAHA,OAAA,EAIA,IAJA,CAKA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,GAAA,IAAA,CAAA,IAAA,MAAA,CAAA,QAAA,IAAA,MAAA,CAAA,OAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA;;AACA,UAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,SAHA,MAGA;AACA,UAAA,MAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,GAAA,CADA,CAEA;AACA;;AACA,UAAA,MAAA,CAAA,KAAA,GAAA,CAAA;AACA;AACA,OAhBA;AAmBA;AAxDA;AAdA,CAAA","sourcesContent":["<template>\n\t<div class=\"reg\">\n\t\t<DetailHeader title=\"注册\"/>\r\n\t\t<div class=\"login-tab\">\r\n\t\t\t<div class=\"login-tab-box\">\r\n\t\t\t\t<a class=\"active\" @click=\"mobileLog\" >手机注册</a>\r\n\t\t\t\t<a @click=\"normalLog\">账号注册</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"form\">\t\r\n\t\t\t\t<!-- 手机方式 -->\r\n\t\t\t<div class=\"mobile\" v-if=\"this.$root.bLogin\" >\r\n\t\t\t\t<InputCell label=\"手机号\" placeholder=\"请输入手机号码\" class=\"inputCell\" v-model=\"mobile\"/>\r\n\t\t\t\t<InputCell label=\"密码\" placeholder=\"请输入密码\" class=\"inputCell\" v-model=\"password\" typeVal=\"password\"/>\r\n\t\t\t\t<span class=\"codeBox\">\r\n\t\t\t\t\t<InputCell label=\"验证码\" placeholder=\"请输入验证码\" class=\"inputCell\" v-model=\"iptCode\"/>\t\r\n\t\t\t\t\t<strong class=\"getCode\" @click=\"getCode\">获取验证码</strong>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<!-- 账号方式 -->\r\n\t\t\t<div class=\"normal\" v-else>\r\n\t\t\t\t<InputCell label=\"账号\" placeholder=\"手机号/邮箱/用户名\" class=\"inputCell\" v-model=\"username\"/>\r\n\t\t\t\t<InputCell label=\"密码\" placeholder=\"请输入密码\" class=\"inputCell\" v-model=\"password\" typeVal=\"password\"/>\t\r\n\t\t\t\t<InputCell label=\"图形码\" placeholder=\"请输入图形码\" class=\"inputCell\"/>\r\n\t\t\t</div>\t\t\t\t\t\t\r\n\t\t</div>\r\n\t\t\r\n\t<!-- \t<div class=\"messBox\" @click=\"toNone\">\r\n\t\t\t<p class=\"mess\">{{mess}}</p>\r\n\t\t</div>\t -->\r\n\t\t\t<MessBox class=\"messBox\" :mess=\"mess\" v-show=\"onoff\" @click=\"toNone\"/>\r\n\t\t\r\n\t\t<LoginBtn class=\"loginBtn\" value=\"注册\" @click.native=\"reg\"/>\r\n\t\t<p class=\"protocal\">注册即同意去哪儿&nbsp;<a href=\"https://touch.qunar.com/h5/about?action=rules\">用户服务协议</a>&nbsp;和&nbsp;<a href=\"https://m.qunar.com/zhuanti/20170210_privacy.html?source=touch\">隐私政策</a></p>\n\t</div>\n</template>\n\n<script>\r\n\timport DetailHeader from \"@/components/DetailHeader.vue\"\r\n\timport InputCell from \"@/components/input-cell.vue\"\r\n\timport LoginBtn from \"@/components/login-btn.vue\"\r\n\timport MessBox from \"@/components/mess-box.vue\"\r\n\t\n\texport default {\n\t\tdata(){return {\r\n\t\t\tusername: '',\r\n\t\t\tpassword: '',\r\n\t\t\tmess: '',\r\n\t\t\tiptCode:'',\r\n\t\t\tmobile: '',\r\n\t\t\tonoff:0\r\n\t\t}},\n\t\tcomponents:{\r\n\t\t\tDetailHeader,InputCell,LoginBtn,MessBox\r\n\t\t},\n\t\tmounted(){},\n\t\tupdated(){},\n\t\tmethods:{\r\n\t\t\t\r\n\t\t\tmobileLog(){\r\n\t\t\t\tthis.$root.bLogin=true;\t\t\t\t\r\n\t\t\t},\r\n\t\t\tnormalLog(){\r\n\t\t\t\tthis.$root.bLogin=false;\r\n\t\t\t},\r\n\t\t\tgetCode(){\r\n\t\t\t\taxios({\r\n\t\t\t\t\turl:'/api/send-code',\r\n\t\t\t\t\tmethod: 'get',\t\r\n\t\t\t\t\tparams:this.mobile\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t}).then(\r\n\t\t\t\t\tres=>{\r\n\t\t\t\t\t\tthis.testCode = res.data.code;\r\n\t\t\t\t\t\tthis.username = this.mobile\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\ttoNone(){\r\n\t\t\t\tdocument.onclick = ()=>{\r\n\t\t\t\t\tthis.onoff=0\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\treg() {\t\r\n\t\t\t\t// 将数据添加到请求头里\r\n\t\t\t  let formData = new FormData();\r\n\t\t\t  formData.append('username',this.username)\r\n\t\t\t  formData.append('password',this.password)\r\n\t\t\t  formData.append('mobile',this.mobile)\r\n\t\t\t  formData.append('email',this.email)\r\n\t\t\t  console.log(formData)\r\n\t\t\t  // let file=document.getElementById('file');\r\n\t\t\t  // formData.append('icon',file.files[0]);\r\n\t\t\t  \r\n\t\t\t  this.$axios({\r\n\t\t\t    url: '/api/reg',\r\n\t\t\t    method: 'post',\r\n\t\t\t    data: formData\r\n\t\t\t  }).then(\r\n\t\t\t    res => {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t      if(res.data.err==0 || this.testCode==this.iptCode){\r\n\t\t\t        console.log(res.data);\r\n\t\t\t        this.$router.push('/login')\r\n\t\t\t      }else{\r\n\t\t\t        this.mess=res.data.msg\r\n\t\t\t\t\t// let messBox = document.querySelector(\".messBox\")\r\n\t\t\t\t\t// messBox.style.display=\"block\"\r\n\t\t\t\t\tthis.onoff=1\r\n\t\t\t      }\r\n\t\t\t    }\r\n\t\t\t  )\r\n\t\t\t  \r\n\t\t\t}\r\n\t\t}\n\t}\n</script>\n\n<style scoped lang=\"scss\">\r\n\t$bg-color:#18a9b9;\n  .reg{\r\n\t  background: #f3f9fc;\r\n\t  height: 100%;\r\n\t  box-sizing: border-box;\r\n\t  padding-bottom: 100%; //背景颜色所占区域\r\n\t  position: relative;\r\n\t.login-tab{\r\n\t\theight: .9rem;\r\n\t\tbackground: $bg-color;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: .1rem .2rem;\r\n\t\t.login-tab-box{\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\t// box-sizing: border-box;\r\n\t\t\t// height: .64rem;\r\n\t\t\tborder: .02rem solid #fff;\r\n\t\t\tborder-radius: .03rem;\r\n\t\t\toverflow: hidden;\r\n\t\t\ta{\r\n\t\t\t\tline-height: .68rem;\r\n\t\t\t\twidth: 50%;\r\n\t\t\t\tfont-size: .3rem;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\ttext-align: center;\t\t\t\t\r\n\t\t\t\t&:hover{\r\n\t\t\t\t\tbackground: #fff;\r\n\t\t\t\t\tcolor: $bg-color;\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\t}\r\n\t.form{\t  \r\n\t\tborder-top: .02rem solid #ccc;\r\n\t\tborder-bottom: .02rem solid #ccc;\r\n\t\tbackground: #fff;\r\n\t\tmargin: .2rem 0 .3rem;\r\n\t\t.inputCell{\r\n\t\t\tmargin-left: .2rem;\r\n\t\t\twidth: 100%;\r\n\t\t\tborder-bottom: .02rem solid #ddd;\r\n\t\t\t&:last-child{\r\n\t\t\t\tborder:0;\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t.codeBox{\r\n\t\t\tdisplay: block;\r\n\t\t\tposition: relative;\r\n\t\t\t.getCode{\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tright: .2rem;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\tmargin: auto;\r\n\t\t\t\tz-index: 10;\r\n\t\t\t\twidth: 1.6rem;\r\n\t\t\t\theight: .48rem;\r\n\t\t\t\tborder: .02rem solid #aaa;\r\n\t\t\t\tborder-radius: .06rem;\r\n\t\t\t\tline-height: .48rem;\r\n\t\t\t\tfont-size: .24rem;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tcolor: #ddd;\r\n\t\t\t}\t\r\n\t\t}\r\n\t\t\t\t\r\n\t}\r\n\t// .messBox{\r\n\t// \tposition: absolute;\r\n\t// \twidth: 100%;\r\n\t// \theight: 100%;\r\n\t// \ttop: 0;\r\n\t// \tbackground: rgba($color: #000000, $alpha: .3);\r\n\t// \tz-index: 999999;\r\n\t// \tdisplay: none;\r\n\t// \t.mess{\r\n\t// \t\twidth: 6rem;\r\n\t// \t\theight: 2rem;\r\n\t// \t\tborder: .02rem solid #aaa;\r\n\t// \t\tbackground: #fff;\r\n\t// \t\tborder-radius: .08rem;\r\n\t// \t\tposition: absolute;\r\n\t// \t\ttop: 0;\r\n\t// \t\tbottom: 7rem;\r\n\t// \t\tleft: 0;\r\n\t// \t\tright: 0;\r\n\t// \t\tmargin: auto;\r\n\t// \t\tfont: .28rem/2 \"\";\r\n\t// \t\ttext-align: center;\r\n\t// \t\tcolor: #666;\r\n\t// \t}\t\t\r\n\t// }\r\n\t.loginBtn{\r\n\t\tmargin-bottom: .48rem;\r\n\t}\r\n\t.protocal{\r\n\t\ttext-align: center;\r\n\t\tfont-size: .12rem;\r\n\t\tcolor: #9e9e9e;\r\n\t\ta{\r\n\t\t\tcolor: #9e9e9e;\r\n\t\t\ttext-decoration: underline;\r\n\t\t}\r\n\t}\r\n  }\n</style>\n"],"sourceRoot":"src/pages"}]}