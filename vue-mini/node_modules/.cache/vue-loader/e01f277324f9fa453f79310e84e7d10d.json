{"remainingRequest":"D:\\上课材料1911\\三阶段\\作业\\vue-mini\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\上课材料1911\\三阶段\\作业\\vue-mini\\src\\pages\\Login.vue?vue&type=style&index=0&id=15717af5&scoped=true&lang=scss&","dependencies":[{"path":"D:\\上课材料1911\\三阶段\\作业\\vue-mini\\src\\pages\\Login.vue","mtime":1578728208925},{"path":"D:\\上课材料1911\\三阶段\\作业\\vue-mini\\node_modules\\css-loader\\index.js","mtime":1577503304000},{"path":"D:\\上课材料1911\\三阶段\\作业\\vue-mini\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1577503464000},{"path":"D:\\上课材料1911\\三阶段\\作业\\vue-mini\\node_modules\\postcss-loader\\src\\index.js","mtime":1577503486000},{"path":"D:\\上课材料1911\\三阶段\\作业\\vue-mini\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\上课材料1911\\三阶段\\作业\\vue-mini\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577503378000},{"path":"D:\\上课材料1911\\三阶段\\作业\\vue-mini\\node_modules\\vue-loader\\lib\\index.js","mtime":1577503464000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t$bg-color:#18a9b9;\n  .login{\n\tbackground: #f3f9fc;\n\theight: 100%;\n\tbox-sizing: border-box;\n\tpadding-bottom: 100%; //背景颜色所占区域\n\t.login-tab{\n\t\theight: .9rem;\n\t\tbackground: $bg-color;\n\t\tbox-sizing: border-box;\n\t\tpadding: .1rem .2rem;\n\t\t.login-tab-box{\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\t// box-sizing: border-box;\n\t\t\t// height: .64rem;\n\t\t\tborder: .02rem solid #fff;\n\t\t\tborder-radius: .03rem;\n\t\t\toverflow: hidden;\n\t\t\ta{\n\t\t\t\tline-height: .68rem;\n\t\t\t\twidth: 50%;\n\t\t\t\tfont-size: .3rem;\n\t\t\t\tcolor: #fff;\n\t\t\t\ttext-align: center;\t\t\t\t\n\t\t\t\t&:hover{\n\t\t\t\t\tbackground: #fff;\n\t\t\t\t\tcolor: $bg-color;\n\t\t\t\t}\t\t\t\t\n\t\t\t}\t\t\t\n\t\t}\n\t}\n\t.form{\t  \n\t\tborder-top: .02rem solid #ccc;\n\t\tborder-bottom: .02rem solid #ccc;\n\t\tbackground: #fff;\n\t\tmargin: .2rem 0 .3rem;\n\t\t.inputCell{\n\t\t\tmargin-left: .2rem;\n\t\t\twidth: 100%;\n\t\t\tborder-bottom: .02rem solid #ddd;\n\t\t\t&:last-child{\n\t\t\t\tborder:0;\t\n\t\t\t}\n\t\t}\n\t\t.codeBox{\n\t\t\tdisplay: block;\n\t\t\tposition: relative;\n\t\t\t.getCode{\n\t\t\t\tposition: absolute;\n\t\t\t\tright: .2rem;\n\t\t\t\ttop: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tmargin: auto;\n\t\t\t\tz-index: 10;\n\t\t\t\twidth: 1.6rem;\n\t\t\t\theight: .48rem;\n\t\t\t\tborder: .02rem solid #aaa;\n\t\t\t\tborder-radius: .06rem;\n\t\t\t\tline-height: .48rem;\n\t\t\t\tfont-size: .24rem;\n\t\t\t\ttext-align: center;\n\t\t\t\tcolor: #ddd;\n\t\t\t}\t\n\t\t}\n\t}\n\t.loginBtn{\n\t\t\n\t}\n\t.find-back{\n\t\tfont-size: .24rem;\n\t\twidth: 90%;\n\t\tmargin: .24rem auto;\n\t\toverflow: hidden;\n\t\ta{\n\t\t\tfloat: right;\n\t\t}\n\t}\n\t.protocal{\n\t\tmargin-top: .36rem;\n\t\ttext-align: center;\n\t\tfont-size: .12rem;\n\t\tcolor: #9e9e9e;\n\t\ta{\n\t\t\tcolor: #9e9e9e;\n\t\t\ttext-decoration: underline;\n\t\t}\n\t}\n  }\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n\t<div class=\"login\">\n\t\t<DetailHeader title=\"登录\" right=\"注册\"/>\r\n\t\t<div class=\"login-tab\">\r\n\t\t\t<div class=\"login-tab-box\">\r\n\t\t\t\t<a class=\"active\" @click=\"mobileLog\" >短信验证登录</a>\r\n\t\t\t\t<a @click=\"normalLog\">账号登录</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"form\">\r\n\t\t\t<div class=\"mobile\" v-if=\"this.$root.bLogin\" >\r\n\t\t\t\t<InputCell label=\"手机号\" placeholder=\"请输入手机号码\" class=\"inputCell\" v-model=\"mobile\"/>\r\n\t\t\t\t<span class=\"codeBox\">\r\n\t\t\t\t\t<InputCell label=\"验证码\" placeholder=\"请输入验证码\" class=\"inputCell\" v-model=\"iptCode\"/>\t\r\n\t\t\t\t\t<strong class=\"getCode\" @click=\"getCode\">获取验证码</strong>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"normal\" v-else>\r\n\t\t\t\t<InputCell label=\"账号\" placeholder=\"手机号/邮箱/用户名\" class=\"inputCell\" v-model=\"username\"/>\r\n\t\t\t\t<InputCell label=\"密码\" placeholder=\"请输入密码\" class=\"inputCell\" v-model=\"password\" typeVal=\"password\"/>\t\t\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t\r\n\t\t<LoginBtn class=\"loginBtn\" value=\"登录\" @click.native='login'/>\r\n\t\t\r\n\t\t<div  class=\"find-back\" v-if=\"!this.$root.bLogin\"><a href=\"//pay.qunar.com/mobile/h5/personalcenter/sensitive/forgotpwd.htm?ret=https://pay.qunar.com/mobile/h5/personalcenter/myaccount/index.htm?hybridid=mob_uc\">找回密码</a></div>\r\n\t\t\r\n\t\t<p class=\"protocal\">注册即同意去哪儿&nbsp;<a href=\"https://touch.qunar.com/h5/about?action=rules\">用户服务协议</a>&nbsp;和&nbsp;<a href=\"https://m.qunar.com/zhuanti/20170210_privacy.html?source=touch\">隐私政策</a></p>\r\n\t\t\r\n\t\t<MessBox class=\"messBox\" :mess=\"mess\" v-show=\"onoff\" @click=\"toNone\"/>\n\t</div>\n</template>\n\n<script>\r\n\timport DetailHeader from \"@/components/DetailHeader.vue\"\r\n\timport InputCell from \"@/components/input-cell.vue\"\r\n\timport LoginBtn from \"@/components/login-btn.vue\"\r\n\timport MessBox from \"@/components/mess-box.vue\"\r\n\t\r\n\tlet top=0;//存储滚动位置\n\texport default {\n\t\tdata(){return {\r\n\t\t\tusername: '',\r\n\t\t\tpassword: '',\r\n\t\t\tmobile:'',\r\n\t\t\tiptCode:'',\r\n\t\t\tmess:'',\r\n\t\t\ttestCode:0,\r\n\t\t\tonoff:0\r\n\t\t}},\n\t\tcomponents:{\r\n\t\t\tDetailHeader,InputCell,LoginBtn,MessBox\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tdocument.documentElement.scrollTop=top;\r\n\t\t},\r\n\t\tdestroyed(){\r\n\t\t  top=document.documentElement.scrollTop;  \r\n\t\t  // console.log('destroyed',top);\r\n\t\t},\r\n\t\t// main.js将Login绑定到$root上\n\t\tmethods:{\r\n\t\t\tmobileLog(){\r\n\t\t\t\tthis.$root.bLogin=true;\t\t\t\t\r\n\t\t\t},\r\n\t\t\tnormalLog(){\r\n\t\t\t\tthis.$root.bLogin=false;\r\n\t\t\t},\r\n\t\t\t// 获取验证码\r\n\t\t\tgetCode(){\r\n\t\t\t\taxios({\r\n\t\t\t\t\turl:'/api/send-code',\r\n\t\t\t\t\tmethod: 'get',\t\r\n\t\t\t\t\tparams:{tel:this.mobile}\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t}).then(\r\n\t\t\t\t\tres=>{\r\n\t\t\t\t\t\tthis.testCode = res.data.code;\r\n\t\t\t\t\t\tthis.username = this.mobile\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\ttoNone(){\r\n\t\t\t\tdocument.onclick = ()=>{\r\n\t\t\t\t\tthis.onoff=0\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tlogin() {\r\n\t\t\t\t// 用户名登录\r\n\t\t\t\tif(!this.$root.bLogin){\r\n\t\t\t\t\tlet params = new URLSearchParams();\r\n\t\t\t\t\tparams.append('username', this.username)\r\n\t\t\t\t\tparams.append('password', this.password)\r\n\t\t\t\t\tparams.append('mobile', this.mobile)\r\n\t\t\t\t\tparams.append('email', this.email)\r\n\t\t\t\t\tthis.$axios({\r\n\t\t\t\t\t  url: '/api/login',\r\n\t\t\t\t\t  method: 'post',\r\n\t\t\t\t\t  data: params\r\n\t\t\t\t\t}).then(\r\n\t\t\t\t\t  res => {\r\n\t\t\t\t\t    if(res.data.err==0){\r\n\t\t\t\t\t\t\tconsole.log(res.data)\r\n\t\t\t\t\t      //种token,跳转user\r\n\t\t\t\t\t      window.localStorage.setItem('token',res.data.token);\r\n\t\t\t\t\t      this.$router.push('/user')\r\n\t\t\t\t\t    }else{\r\n\t\t\t\t\t      this.mess=res.data.msg\r\n\t\t\t\t\t\t  this.onoff=1\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t)\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// 手机登录\r\n\t\t\t\t\tif(this.testCode==this.iptCode){\r\n\t\t\t\t\t\twindow.localStorage.setItem('token',res.data.token);\r\n\t\t\t\t\t\tthis.$router.push('/user')\r\n\t\t\t\t\t\tthis.mess=\"验证码有误\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t  \t\t\t  \r\n\t\t\t}\r\n\t\t},\n\t}\n</script>\n\n<style scoped lang=\"scss\">\r\n\t$bg-color:#18a9b9;\n  .login{\r\n\tbackground: #f3f9fc;\r\n\theight: 100%;\r\n\tbox-sizing: border-box;\r\n\tpadding-bottom: 100%; //背景颜色所占区域\r\n\t.login-tab{\r\n\t\theight: .9rem;\r\n\t\tbackground: $bg-color;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: .1rem .2rem;\r\n\t\t.login-tab-box{\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\t// box-sizing: border-box;\r\n\t\t\t// height: .64rem;\r\n\t\t\tborder: .02rem solid #fff;\r\n\t\t\tborder-radius: .03rem;\r\n\t\t\toverflow: hidden;\r\n\t\t\ta{\r\n\t\t\t\tline-height: .68rem;\r\n\t\t\t\twidth: 50%;\r\n\t\t\t\tfont-size: .3rem;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\ttext-align: center;\t\t\t\t\r\n\t\t\t\t&:hover{\r\n\t\t\t\t\tbackground: #fff;\r\n\t\t\t\t\tcolor: $bg-color;\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\t}\r\n\t.form{\t  \r\n\t\tborder-top: .02rem solid #ccc;\r\n\t\tborder-bottom: .02rem solid #ccc;\r\n\t\tbackground: #fff;\r\n\t\tmargin: .2rem 0 .3rem;\r\n\t\t.inputCell{\r\n\t\t\tmargin-left: .2rem;\r\n\t\t\twidth: 100%;\r\n\t\t\tborder-bottom: .02rem solid #ddd;\r\n\t\t\t&:last-child{\r\n\t\t\t\tborder:0;\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t.codeBox{\r\n\t\t\tdisplay: block;\r\n\t\t\tposition: relative;\r\n\t\t\t.getCode{\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tright: .2rem;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\tmargin: auto;\r\n\t\t\t\tz-index: 10;\r\n\t\t\t\twidth: 1.6rem;\r\n\t\t\t\theight: .48rem;\r\n\t\t\t\tborder: .02rem solid #aaa;\r\n\t\t\t\tborder-radius: .06rem;\r\n\t\t\t\tline-height: .48rem;\r\n\t\t\t\tfont-size: .24rem;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tcolor: #ddd;\r\n\t\t\t}\t\r\n\t\t}\r\n\t}\r\n\t.loginBtn{\r\n\t\t\r\n\t}\r\n\t.find-back{\r\n\t\tfont-size: .24rem;\r\n\t\twidth: 90%;\r\n\t\tmargin: .24rem auto;\r\n\t\toverflow: hidden;\r\n\t\ta{\r\n\t\t\tfloat: right;\r\n\t\t}\r\n\t}\r\n\t.protocal{\r\n\t\tmargin-top: .36rem;\r\n\t\ttext-align: center;\r\n\t\tfont-size: .12rem;\r\n\t\tcolor: #9e9e9e;\r\n\t\ta{\r\n\t\t\tcolor: #9e9e9e;\r\n\t\t\ttext-decoration: underline;\r\n\t\t}\r\n\t}\r\n  }\n</style>\n"]}]}